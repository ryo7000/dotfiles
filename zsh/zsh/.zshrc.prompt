# ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã¯rpromptã‚’æ¶ˆã™
setopt transient_rprompt

function _rprompt() {
  local email=''
  if [[ -n ${git_info} ]]; then
      email=$(command git config user.email 2>/dev/null)
  fi
  if [[ "${email}" == 'ryo7000@gmail.com' ]]; then
      email="ğŸˆ ${email}"
  fi
  print "${email}"
}

RPROMPT='$(_rprompt)'

# docker å†…ã§ã¯ ğŸ³ ã‚’è¡¨ç¤º
if (( ${+functions[_prompt_eriner_status]} )); then
  functions -c _prompt_eriner_status _prompt_eriner_status_org

  function _prompt_eriner_status() {
    _prompt_eriner_status_org "$@"

    [[ -e /.dockerenv ]] && print -n ' %F{cyan}ğŸ³'
  }
fi

# tag ãŒè¡¨ç¤ºã§ãã‚‹ã¨ãã¯ tag ã‚’è¡¨ç¤ºã™ã‚‹
zstyle ':zim:git-info:position' format 'ï€«Â %p'
zstyle ':zim:git-info:keys' format \
  'prompt' '%b$(coalesce %p %c)%s%D' \
  'dirty' '%D'
